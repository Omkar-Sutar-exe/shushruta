{"ast":null,"code":"import React,{Fragment,useContext,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import moment from\"moment\";import{DashboardContext}from\"./\";import{todayAllOrders}from\"./Action\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const apiURL=process.env.REACT_APP_API_URL;const SellTable=()=>{const history=useHistory();const{data,dispatch}=useContext(DashboardContext);useEffect(()=>{todayAllOrders(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const ordersList=()=>{let newList=[];if(data.totalOrders.Orders!==undefined){data.totalOrders.Orders.forEach(function(elem){if(moment(elem.createdAt).format(\"LL\")===moment().format(\"LL\")){newList=[...newList,elem];}});}return newList;};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 overflow-auto bg-white shadow-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-semibold mb-6 text-center\",children:[\"Today's Requests\",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border w-full my-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"PIN Code\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Request Address\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Requested at\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.totalOrders.Orders!==undefined?ordersList().map((item,key)=>{return/*#__PURE__*/_jsx(TodayOrderTable,{order:item},key);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-xl text-center font-semibold py-8\",children:\"No Requests found today\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mt-2\",children:[\"Total\",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0,\" \",\"Requests found\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"span\",{onClick:e=>history.push(\"/admin/dashboard/orders\"),style:{background:\"#303031\"},className:\"cursor-pointer px-4 py-2 text-white rounded-full\",children:\"View All\"})})]})});};const TodayOrderTable=_ref=>{let{order}=_ref;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\",children:order.allProduct.map((item,index)=>{return/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"span\",{children:item.id.pPrice})},index);})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-left\",children:order.allProduct.map((item,index)=>{return/*#__PURE__*/_jsx(\"img\",{className:\"w-12 h-12 object-cover\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(item.id.pImages[0]),alt:\"Pic\"},index);})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 text-center\",children:[order.status===\"Not processed\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Under Scutiny\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Request Accepted\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Expired\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Cancelled\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:order.address}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-center\",children:moment(order.createdAt).format(\"lll\")})]})});};const TodaySell=props=>{return/*#__PURE__*/_jsx(\"div\",{className:\"m-4\",children:/*#__PURE__*/_jsx(SellTable,{})});};export default TodaySell;","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useHistory","moment","DashboardContext","todayAllOrders","jsxs","_jsxs","jsx","_jsx","apiURL","process","env","REACT_APP_API_URL","SellTable","history","data","dispatch","ordersList","newList","totalOrders","Orders","undefined","forEach","elem","createdAt","format","children","className","length","map","item","key","TodayOrderTable","order","colSpan","onClick","e","push","style","background","_ref","allProduct","index","id","pPrice","src","concat","pImages","alt","status","address","TodaySell","props"],"sources":["C:/Users/TUF GAMING/OneDrive/Desktop/BE project/working on shushruta/shushruta/client/src/components/admin/dashboardAdmin/TodaySell.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { DashboardContext } from \"./\";\r\nimport { todayAllOrders } from \"./Action\";\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nconst SellTable = () => {\r\n  const history = useHistory();\r\n  const { data, dispatch } = useContext(DashboardContext);\r\n\r\n  useEffect(() => {\r\n    todayAllOrders(dispatch);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const ordersList = () => {\r\n    let newList = [];\r\n    if (data.totalOrders.Orders !== undefined) {\r\n      data.totalOrders.Orders.forEach(function (elem) {\r\n        if (moment(elem.createdAt).format(\"LL\") === moment().format(\"LL\")) {\r\n          newList = [...newList, elem];\r\n        }\r\n      });\r\n    }\r\n    return newList;\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"col-span-1 overflow-auto bg-white shadow-lg p-4\">\r\n        <div className=\"text-2xl font-semibold mb-6 text-center\">\r\n          Today's Requests{\" \"}\r\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}\r\n        </div>\r\n        <table className=\"table-auto border w-full my-2\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"px-4 py-2 border\">PIN Code</th>\r\n              <th className=\"px-4 py-2 border\">Image</th>\r\n              <th className=\"px-4 py-2 border\">Status</th>\r\n              <th className=\"px-4 py-2 border\">Request Address</th>\r\n              <th className=\"px-4 py-2 border\">Requested at</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.totalOrders.Orders !== undefined ? (\r\n              ordersList().map((item, key) => {\r\n                return <TodayOrderTable order={item} key={key} />;\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td\r\n                  colSpan=\"5\"\r\n                  className=\"text-xl text-center font-semibold py-8\"\r\n                >\r\n                  No Requests found today\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        <div className=\"text-sm text-gray-600 mt-2\">\r\n          Total{\" \"}\r\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}{\" \"}\r\n          Requests found\r\n        </div>\r\n        <div className=\"flex justify-center\">\r\n          <span\r\n            onClick={(e) => history.push(\"/admin/dashboard/orders\")}\r\n            style={{ background: \"#303031\" }}\r\n            className=\"cursor-pointer px-4 py-2 text-white rounded-full\"\r\n          >\r\n            View All\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst TodayOrderTable = ({ order }) => {\r\n  return (\r\n    <Fragment>\r\n      <tr>\r\n        <td className=\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\">\r\n          {order.allProduct.map((item, index) => {\r\n            return (\r\n              <div key={index} className=\"flex space-x-2\">\r\n                <span>{item.id.pPrice}</span>\r\n                {/* <span>{item.quantitiy}x</span> */}\r\n              </div>\r\n            );\r\n          })}\r\n        </td>\r\n        <td className=\"p-2 text-left\">\r\n          {order.allProduct.map((item, index) => {\r\n            return (\r\n              <img\r\n                key={index}\r\n                className=\"w-12 h-12 object-cover\"\r\n                src={`${apiURL}/uploads/products/${item.id.pImages[0]}`}\r\n                alt=\"Pic\"\r\n              />\r\n            );\r\n          })}\r\n        </td>\r\n        <td className=\"p-2 text-center\">\r\n          {order.status === \"Not processed\" && (\r\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\r\n              {order.status}\r\n            </span>\r\n          )}\r\n          {order.status === \"Under Scutiny\" && (\r\n            <span className=\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\">\r\n              {order.status}\r\n            </span>\r\n          )}\r\n          {order.status === \"Request Accepted\" && (\r\n            <span className=\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\">\r\n              {order.status}\r\n            </span>\r\n          )}\r\n          {order.status === \"Expired\" && (\r\n            <span className=\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\">\r\n              {order.status}\r\n            </span>\r\n          )}\r\n          {order.status === \"Cancelled\" && (\r\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\r\n              {order.status}\r\n            </span>\r\n          )}\r\n        </td>\r\n        <td className=\"p-2 text-center\">{order.address}</td>\r\n        <td className=\"p-2 text-center\">\r\n          {moment(order.createdAt).format(\"lll\")}\r\n        </td>\r\n      </tr>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst TodaySell = (props) => {\r\n  return (\r\n    <div className=\"m-4\">\r\n      <SellTable />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodaySell;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}