{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{wishListProducts}from\"./FetchApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiURL=process.env.REACT_APP_API_URL;const Product=()=>{const history=useHistory();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{setLoading(true);let responseData=await wishListProducts();setTimeout(()=>{if(responseData&&responseData.Products){setProducts(responseData.Products);setLoading(false);}},50);};const removeFromWishList=id=>{let list=localStorage.getItem(\"wishList\")?JSON.parse(localStorage.getItem(\"wishList\")):[];if(list.length>0){if(list.includes(id)===true){list.splice(list.indexOf(id),1);localStorage.setItem(\"wishList\",JSON.stringify(list));fetchData();}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"my-32 text-2xl text-center\",children:\"No product found in wishList\"});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-1\",children:products.length>0?products.map((product,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 md:flex md:items-center\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:e=>history.push(\"/products/\".concat(product._id)),className:\"cursor-pointer md:h-20 md:w-20 object-cover object-center\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(product.pImages[0]),alt:\"wishListproduct\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:ml-6 truncate\",children:product.pName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 md:flex md:items-center md:justify-around\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-gray-600\",children:[\"$\",product.pPrice,\".00\"]}),product.pQuantity>0?/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 my-1 md:my-0\",children:\"Available\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 my-1 md:my-0\",children:\"Unavailable\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#303031\"},onClick:e=>history.push(\"/products/\".concat(product._id)),className:\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\",children:\"View\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 mx-2 my-2 md:relative\",children:/*#__PURE__*/_jsx(\"svg\",{onClick:e=>removeFromWishList(product._id),className:\"w-6 h-6 cursor-pointer\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]},index);}):/*#__PURE__*/_jsx(\"div\",{children:\"No Organ found in wishList\"})})});};const SingleWishProduct=props=>{return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mx-2 mb-6\",children:\"Wishlist\"}),/*#__PURE__*/_jsx(Product,{})]})});};export default SingleWishProduct;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useHistory","wishListProducts","jsx","_jsx","jsxs","_jsxs","apiURL","process","env","REACT_APP_API_URL","Product","history","products","setProducts","loading","setLoading","fetchData","responseData","setTimeout","Products","removeFromWishList","id","list","localStorage","getItem","JSON","parse","length","includes","splice","indexOf","setItem","stringify","className","children","map","product","index","onClick","e","push","concat","_id","src","pImages","alt","pName","pPrice","pQuantity","style","background","fill","viewBox","xmlns","fillRule","d","clipRule","SingleWishProduct","props"],"sources":["C:/Users/TUF GAMING/OneDrive/Desktop/BE project/working on shushruta/shushruta/client/src/components/shop/wishlist/SingleWishProduct.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { wishListProducts } from \"./FetchApi\";\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nconst Product = () => {\r\n  const history = useHistory();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    let responseData = await wishListProducts();\r\n    setTimeout(() => {\r\n      if (responseData && responseData.Products) {\r\n        setProducts(responseData.Products);\r\n        setLoading(false);\r\n      }\r\n    }, 50);\r\n  };\r\n\r\n  const removeFromWishList = (id) => {\r\n    let list = localStorage.getItem(\"wishList\")\r\n      ? JSON.parse(localStorage.getItem(\"wishList\"))\r\n      : [];\r\n    if (list.length > 0) {\r\n      if (list.includes(id) === true) {\r\n        list.splice(list.indexOf(id), 1);\r\n        localStorage.setItem(\"wishList\", JSON.stringify(list));\r\n        fetchData();\r\n      }\r\n    }\r\n  };\r\n  if (loading) {\r\n    return (\r\n      <div className=\"my-32 text-2xl text-center\">\r\n        No product found in wishList\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <div className=\"grid grid-cols-2 md:grid-cols-1\">\r\n        {products.length > 0 ? (\r\n          products.map((product, index) => {\r\n            return (\r\n              <div\r\n                key={index}\r\n                className=\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\"\r\n              >\r\n                <div className=\"md:w-1/2 md:flex md:items-center\">\r\n                  <img\r\n                    onClick={(e) => history.push(`/products/${product._id}`)}\r\n                    className=\"cursor-pointer md:h-20 md:w-20 object-cover object-center\"\r\n                    src={`${apiURL}/uploads/products/${product.pImages[0]}`}\r\n                    alt=\"wishListproduct\"\r\n                  />\r\n                  <div className=\"text-lg md:ml-6 truncate\">\r\n                    {product.pName}\r\n                  </div>\r\n                </div>\r\n                <div className=\"md:w-1/2 md:flex md:items-center md:justify-around\">\r\n                  <div className=\"font-semibold text-gray-600\">\r\n                    ${product.pPrice}.00\r\n                  </div>\r\n                  {product.pQuantity > 0 ? (\r\n                    <div className=\"text-green-500 my-1 md:my-0\">Available</div>\r\n                  ) : (\r\n                    <div className=\"text-red-500 my-1 md:my-0\">Unavailable</div>\r\n                  )}\r\n\r\n                  <div\r\n                    style={{ background: \"#303031\" }}\r\n                    onClick={(e) => history.push(`/products/${product._id}`)}\r\n                    className=\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\"\r\n                  >\r\n                    View\r\n                  </div>\r\n                </div>\r\n                <div className=\"absolute top-0 right-0 mx-2 my-2 md:relative\">\r\n                  <svg\r\n                    onClick={(e) => removeFromWishList(product._id)}\r\n                    className=\"w-6 h-6 cursor-pointer\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div>No Organ found in wishList</div>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst SingleWishProduct = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <section className=\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\">\r\n        <div className=\"text-2xl mx-2 mb-6\">Wishlist</div>\r\n        {/* Product List */}\r\n        <Product />\r\n      </section>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SingleWishProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}